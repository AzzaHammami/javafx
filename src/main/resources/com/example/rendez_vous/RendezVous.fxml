<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>
<?import javafx.collections.FXCollections?>

<VBox xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.rendez_vous.controllers.RendezVousController"
      spacing="20" alignment="CENTER" style="-fx-background-color: #f5f5f5;">

    <padding>
        <Insets top="30" right="40" bottom="30" left="40"/>
    </padding>

    <Label text="Gestion des Rendez-vous" style="-fx-text-fill: #4a6ee0;">
        <font>
            <Font size="24" name="System Bold"/>
        </font>
        <VBox.margin>
            <Insets bottom="20"/>
        </VBox.margin>
    </Label>

    <GridPane hgap="15" vgap="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 5;">
        <columnConstraints>
            <ColumnConstraints minWidth="100" prefWidth="120"/>
            <ColumnConstraints minWidth="200" prefWidth="250"/>
        </columnConstraints>
        <!-- Date et heure -->
        <Label text="Date du rendez-vous:" GridPane.rowIndex="0" GridPane.columnIndex="0"
               style="-fx-text-fill: #555;" styleClass="field-label"/>
        <HBox spacing="10" GridPane.rowIndex="0" GridPane.columnIndex="1">
            <DatePicker fx:id="datePicker" promptText="Sélectionnez une date"
                      style="-fx-pref-width: 150;"/>
            <ComboBox fx:id="heureCombo" promptText="Heure" style="-fx-pref-width: 90;"/>
            <ComboBox fx:id="minuteCombo" promptText="Min" style="-fx-pref-width: 80;"/>
        </HBox>

        <!-- Motif -->
        <Label text="Motif:" GridPane.rowIndex="1" GridPane.columnIndex="0"
               style="-fx-text-fill: #555;" styleClass="field-label"/>
        <TextField fx:id="motifField" promptText="Entrez le motif" GridPane.rowIndex="1" GridPane.columnIndex="1"
                   style="-fx-pref-height: 35;"/>

        <!-- Patient ID -->
        <Label text="ID Patient:" GridPane.rowIndex="2" GridPane.columnIndex="0"
               style="-fx-text-fill: #555;" styleClass="field-label"/>
        <TextField fx:id="patientIdField" promptText="Entrez l'ID du patient" GridPane.rowIndex="2" GridPane.columnIndex="1"
                   style="-fx-pref-height: 35;"/>

        <!-- Médecin ID -->
        <Label text="ID Médecin:" GridPane.rowIndex="3" GridPane.columnIndex="0"
               style="-fx-text-fill: #555;" styleClass="field-label"/>
        <TextField fx:id="medecinIdField" promptText="Entrez l'ID du médecin" GridPane.rowIndex="3" GridPane.columnIndex="1"
                   style="-fx-pref-height: 35;"/>

        <!-- Statut -->
        <Label text="Statut:" GridPane.rowIndex="4" GridPane.columnIndex="0"
               style="-fx-text-fill: #555;" styleClass="field-label"/>
        <ComboBox fx:id="statutComboBox" maxWidth="Infinity" promptText="Sélectionnez un statut"
                  GridPane.rowIndex="4" GridPane.columnIndex="1" style="-fx-pref-width: 250;"/>
    </GridPane>

    <!-- Buttons -->
    <HBox spacing="15" alignment="CENTER">
        <Button text="Ajouter" onAction="#ajouterRendezVous"
                style="-fx-background-color: #4a6ee0; -fx-text-fill: white; -fx-min-width: 100; -fx-min-height: 35;"/>
        <Button text="Modifier" onAction="#modifierRendezVous"
                style="-fx-background-color: #2ea44f; -fx-text-fill: white; -fx-min-width: 100; -fx-min-height: 35;"/>
        <Button text="Supprimer" onAction="#supprimerRendezVous"
                style="-fx-background-color: #d73a49; -fx-text-fill: white; -fx-min-width: 100; -fx-min-height: 35;"/>
        <Button text="Rafraîchir" onAction="#rafraichirListe"
                style="-fx-background-color: #6f42c1; -fx-text-fill: white; -fx-min-width: 100; -fx-min-height: 35;"/>
    </HBox>

    <!-- Table -->
    <TableView fx:id="tableView" VBox.vgrow="ALWAYS" style="-fx-pref-height: 400;">
        <columns>
            <TableColumn fx:id="idCol" text="ID" prefWidth="50"/>
            <TableColumn fx:id="dateCol" text="Date" prefWidth="150"/>
            <TableColumn fx:id="statutCol" text="Statut" prefWidth="100"/>
            <TableColumn fx:id="motifCol" text="Motif" prefWidth="150"/>
            <TableColumn fx:id="patientIdCol" text="ID Patient" prefWidth="100"/>
            <TableColumn fx:id="medecinIdCol" text="ID Médecin" prefWidth="100"/>
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

</VBox>
