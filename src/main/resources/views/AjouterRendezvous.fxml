<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.image.ImageView?>
<ScrollPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.rendez_vous.controllers.RendezVousController" fitToWidth="true" fitToHeight="true" style="-fx-background-color:transparent;">
    <content>
        <VBox spacing="0" alignment="TOP_CENTER" style="-fx-background-color: linear-gradient(to bottom right, #f9fbfd 80%, #e3f2fd 100%); -fx-padding: 0 0 30 0;">
            <!-- Barre d'étapes dynamique -->
            <VBox fx:id="stepBarBox" alignment="CENTER" spacing="18" style="-fx-padding: 36 0 0 0;">
                <HBox alignment="CENTER" spacing="60">
                    <VBox alignment="CENTER">
                        <Circle fx:id="circleMedecin" radius="13" fill="#ffd600"/>
                        <Label text="Médecin" style="-fx-font-size: 15px; -fx-text-fill: #444;"/>
                    </VBox>
                    <Line fx:id="line1" startX="0" startY="0" endX="46" endY="0" stroke="#ffd600" strokeWidth="3"/>
                    <VBox alignment="CENTER">
                        <Circle fx:id="circleDateHeure" radius="13" fill="#e0e0e0"/>
                        <Label text="Date et heure" style="-fx-font-size: 15px; -fx-text-fill: #444;"/>
                    </VBox>
                    <Line fx:id="line2" startX="0" startY="0" endX="46" endY="0" stroke="#e0e0e0" strokeWidth="3"/>
                    <VBox alignment="CENTER">
                        <Circle fx:id="circleMotif" radius="13" fill="#e0e0e0"/>
                        <Label text="Motif" style="-fx-font-size: 15px; -fx-text-fill: #444;"/>
                    </VBox>
                    <Line fx:id="line3" startX="0" startY="0" endX="46" endY="0" stroke="#e0e0e0" strokeWidth="3"/>
                    <VBox alignment="CENTER">
                        <Circle fx:id="circleConfirmation" radius="13" fill="#e0e0e0"/>
                        <Label text="Confirmation" style="-fx-font-size: 15px; -fx-text-fill: #444;"/>
                    </VBox>
                </HBox>
            </VBox>
            <!-- Fiche médecin façon maquette -->
            <VBox fx:id="ficheMedecinBox" alignment="CENTER_LEFT" spacing="7" style="-fx-background-color: #08a5df; -fx-background-radius: 16 16 0 0; -fx-padding: 18 30 18 30; -fx-min-width: 600; -fx-max-width: 600; -fx-translate-y: 24;">
                <HBox spacing="18" alignment="CENTER_LEFT">
                    <ImageView fx:id="photoMedecin" fitWidth="58" fitHeight="58" style="-fx-effect: dropshadow(gaussian, #b0bec5, 6, 0.2, 0, 2); -fx-background-radius: 12;"/>
                    <VBox alignment="CENTER_LEFT" spacing="2">
                        <Label fx:id="nomMedecinLabel" text="Dr Nom Prénom" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                        <Label fx:id="specialiteMedecinLabel" text="Spécialité" style="-fx-font-size: 15px; -fx-text-fill: #e3f2fd;"/>
                        <HBox spacing="7" alignment="CENTER_LEFT">
                            <ImageView fitWidth="14" fitHeight="14" pickOnBounds="true"/>
                            <Label fx:id="adresseMedecinLabel" text="Ville/Adresse" style="-fx-font-size: 14px; -fx-text-fill: #e3f2fd;"/>
                        </HBox>
                    </VBox>
                </HBox>
            </VBox>
            <!-- Sélection de la date et de l'heure -->
            <VBox alignment="CENTER" spacing="12" style="-fx-padding: 20 0 0 0;">
                <Label text="Veuillez choisir la date du rendez-vous" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #1a237e; -fx-padding: 0 0 8 0;"/>
                <DatePicker fx:id="datePicker" promptText="Choisir la date" style="-fx-background-color: #fff; -fx-border-color: #e0e0e0; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 16px; -fx-padding: 8 18; -fx-text-fill: #333;"/>
                <ComboBox fx:id="heureCombo" promptText="Choisir l'heure" style="-fx-background-color: #fff; -fx-border-color: #e0e0e0; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 16px; -fx-padding: 8 18; -fx-text-fill: #333;" />
                <ComboBox fx:id="minuteCombo" promptText="Minute" style="-fx-background-color: #fff; -fx-border-color: #e0e0e0; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 16px; -fx-padding: 8 18; -fx-text-fill: #333;" />
                <ComboBox fx:id="statutComboBox" promptText="Statut" style="-fx-background-color: #fff; -fx-border-color: #e0e0e0; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 16px; -fx-padding: 8 18; -fx-text-fill: #333;" />
                <Label text="Veuillez choisir l'heure du rendez-vous" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1a237e; -fx-padding: 16 0 0 0;"/>
                <FlowPane fx:id="creneauxPane" hgap="18" vgap="18" alignment="CENTER" style="-fx-padding: 8 0 0 0;"/>
            </VBox>
            <!-- TableView pour la liste des rendez-vous -->
            <TableView fx:id="tableView" prefHeight="180" prefWidth="600">
                <columns>
                    <TableColumn fx:id="idCol" text="ID" />
                    <TableColumn fx:id="motifCol" text="Motif" />
                    <TableColumn fx:id="patientIdCol" text="ID Patient" />
                    <TableColumn fx:id="medecinIdCol" text="ID Médecin" />
                    <TableColumn fx:id="dateCol" text="Date" />
                    <TableColumn fx:id="statutCol" text="Statut" />
                </columns>
            </TableView>
            <!-- Motif du rendez-vous -->
            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 20 0 0 0;">
                <Label text="Motif du rendez-vous" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1a237e;"/>
                <TextField fx:id="motifField" promptText="Entrez le motif" style="-fx-background-color: #f7f8fa; -fx-border-color: #e4e7ef; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 15px; -fx-padding: 10 14; -fx-text-fill: #333;" maxWidth="340"/>
            </VBox>
            <!-- Zone de confirmation -->
            <VBox fx:id="confirmationBox" spacing="16" alignment="CENTER" visible="false" managed="false" style="-fx-background-color: #f9fbfd; -fx-border-color: #ffd600; -fx-border-width: 2; -fx-border-radius: 12; -fx-background-radius: 12; -fx-padding: 24; -fx-translate-y: 18;">
                <Label text="Confirmation du rendez-vous" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1976d2;"/>
                <Label fx:id="recapLabel" text="" style="-fx-font-size: 15px; -fx-text-fill: #333;" wrapText="true"/>
                <HBox spacing="30" alignment="CENTER">
                    <Button text="Confirmer" fx:id="btnConfirmer" style="-fx-background-color: #1976d2; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 7;"/>
                    <Button text="Annuler" fx:id="btnAnnuler" style="-fx-background-color: #ff5252; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 7;"/>
                </HBox>
            </VBox>
            <!-- Champs cachés nécessaires pour la logique -->
            <TextField fx:id="medecinIdField" promptText="ID du médecin" visible="false" managed="false"/>
            <TextField fx:id="patientIdField" promptText="ID du patient" visible="false" managed="false"/>
        </VBox>
    </content>
</ScrollPane>
