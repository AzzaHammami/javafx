<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane fx:id="mainContainer" xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" 
            fx:controller="Controllers.Front.ReclamationController"
            stylesheets="/styles/theme.css"
            minWidth="900" minHeight="600">
            
    <!-- Header -->
    <top>
        <VBox spacing="0">
            <HBox styleClass="header" alignment="CENTER_LEFT" spacing="20" minHeight="70">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                
                <!-- Logo and App Name -->
                <HBox spacing="10" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                    <StackPane>
                        <Circle radius="20" styleClass="logo-circle"/>
                        <Text text="+" styleClass="logo-text"/>
                    </StackPane>
                    <Label text="MaSanté" styleClass="app-name"/>
                </HBox>
                
                <!-- Navigation Menu -->
                <HBox spacing="30" alignment="CENTER">
                    <Label text="Accueil" styleClass="nav-item"/>
                    <Label text="Réclamations" styleClass="nav-item, nav-item-active"/>
                    <Label text="Documents" styleClass="nav-item"/>
                    <Label text="Messages" styleClass="nav-item"/>
                </HBox>
                
                <!-- Profile Circle -->
                <Circle radius="15" styleClass="profile-circle"/>
            </HBox>
        </VBox>
    </top>

    <!-- Main Content -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="main-scroll">
            <VBox spacing="30" VBox.vgrow="ALWAYS">
                <padding>
                    <Insets top="20" right="40" bottom="20" left="40"/>
                </padding>

                <!-- Back Button -->
                <Button text="Retour" onAction="#handleRetourHome" styleClass="btn-back"/>

                <!-- Action Button: Go to Messenger -->
                <Button text="Messagerie" onAction="#handleGoToMessenger" styleClass="btn-primary"/>

                <!-- Main Title -->
                <Label text="Gestion des Réclamations" styleClass="main-title"/>

                <!-- Form Section -->
                <VBox spacing="20" styleClass="form-container">
                    <Label text="Nouvelle Réclamation" styleClass="section-title"/>
                    
                    <VBox spacing="10">
                        <Label text="Sujet" styleClass="field-label"/>
                        <TextField fx:id="sujetField" promptText="Entrez le sujet de votre réclamation"/>
                    </VBox>
                    
                    <VBox spacing="10">
                        <Label text="Description" styleClass="field-label"/>
                        <TextArea fx:id="descriptionField" promptText="Décrivez votre réclamation en détail" 
                                 wrapText="true" prefRowCount="3"/>
                    </VBox>
                    
                    <HBox spacing="10">
                        <Button text="Ajouter" onAction="#handleEnvoyerReclamation" styleClass="btn-primary"/>
                        <Button text="Modifier" onAction="#handleModifierReclamation" styleClass="btn-success"/>
                        <Button text="Supprimer" onAction="#handleSupprimerReclamation" styleClass="btn-danger"/>
                    </HBox>
                </VBox>

                <!-- Table Section -->
                <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="sujetColumn" text="Sujet"/>
                        <TableColumn fx:id="descriptionColumn" text="Description"/>
                        <TableColumn fx:id="dateColumn" text="Date"/>
                        <TableColumn fx:id="statutColumn" text="Statut"/>
                    </columns>
                </TableView>

                <!-- Responses Section -->
                <VBox fx:id="reponsesContainer" spacing="10" styleClass="responses-section">
                    <Label text="Réponses" styleClass="section-title"/>
                    <TableView fx:id="reponsesTableView" prefHeight="200">
                        <columns>
                            <TableColumn fx:id="reponseContenuColumn" text="Réponse"/>
                            <TableColumn fx:id="reponseDateColumn" text="Date"/>
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
    
    <!-- Barre latérale -->
    <!--
    <left>
        <VBox>
            <Label text="Menu Principal"/>
            <Button text="Tableau de bord"/>
            <Button text="Réclamations"/>
            <Button text="Réponses"/>
            <Button text="Messagerie"/>
            <Button text="Statistiques"/>
            <Button text="Déconnexion"/>
        </VBox>
    </left>
    -->
    <!-- Fin barre latérale -->
</BorderPane>
